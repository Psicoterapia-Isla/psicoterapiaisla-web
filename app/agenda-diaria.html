<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Agenda diaria | Psicoterapia Isla</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="assets/css/app.css">
</head>

<body class="app-body">
<header class="app-menu"></header>

<main class="wrapper">

  <div class="header">
    <h1>Agenda diaria</h1>
    <div class="nav">
      <button id="prev" class="btn-secondary">←</button>
      <button id="today" class="btn-secondary">Hoy</button>
      <button id="next" class="btn-secondary">→</button>
    </div>
  </div>

  <div id="list"></div>
</main>

<!-- MODAL CREAR CITA -->
<div id="createModal" class="modal">
  <div class="modal-card">
    <h3>Nueva cita</h3>

    <label>Teléfono</label>
    <input id="cPatientPhone" type="text">

    <label>Nombre</label>
    <input id="cPatientName" type="text">

    <label>Modalidad</label>
    <select id="cModality">
      <option value="">—</option>
      <option value="online">Online</option>
      <option value="viladecans">Viladecans</option>
      <option value="badalona">Badalona</option>
    </select>

    <label>Hora inicio</label>
    <input id="cStart" type="time">

    <label>Hora fin</label>
    <input id="cEnd" type="time">

    <div class="actions">
      <button onclick="createAppointment()" class="btn-primary">Crear</button>
      <button onclick="closeCreateModal()">Cancelar</button>
    </div>
  </div>
</div>

<script type="module">
import { requireAuth } from "./assets/js/auth.js";
import { loadMenu } from "./assets/js/menu.js";
await requireAuth();
await loadMenu();
</script>

<script type="module" src="assets/js/agenda-diaria.js"></script>
<script type="module" src="assets/js/crear-cita.js"></script>
</body>
</html>
