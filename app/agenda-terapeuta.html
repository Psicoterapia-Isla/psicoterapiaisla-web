<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Agenda profesional</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="assets/css/app.css">
  <link rel="stylesheet" href="assets/css/agenda-terapeuta.css">
</head>

<body class="app-body">

<header class="app-menu"></header>

<main class="app-container">
<div class="day-nav">
  <button id="prev-day">◀</button>
  <span id="current-day"></span>
  <button id="next-day">▶</button>
</div>
  <h1 class="page-title">Agenda profesional</h1>

  <div class="card">

    <div class="grid-2">

      <!-- PLAN DEL DÍA -->
      <div class="block">
        <h2 class="section-title">Plan del día</h2>

        <div class="list">

          <!-- REPEAT -->
          <div class="hour-line">
            <span>06:00</span>
            <textarea data-hour="06:00"></textarea>
          </div>
          <div class="hour-line">
            <span>07:00</span>
            <textarea data-hour="07:00"></textarea>
          </div>
          <div class="hour-line">
            <span>08:00</span>
            <textarea data-hour="08:00"></textarea>
          </div>
          <div class="hour-line">
            <span>09:00</span>
            <textarea data-hour="09:00"></textarea>
          </div>
          <!-- sigue hasta 23:00 -->
        </div>
      </div>

      <!-- RETO DIARIO -->
      <div class="block">
        <h2 class="section-title">Reto diario</h2>
        <textarea id="reto-diario" placeholder="Reto terapéutico del día…"></textarea>
      </div>

    </div>

    <!-- NOTAS -->
    <div class="block" style="margin-top:2rem;">
      <h2 class="section-title">Notas del día</h2>

      <label>¿Con quién he hablado hoy?</label>
      <textarea id="notas-contactos"></textarea>

      <label style="margin-top:1rem;">Tiempo fuera de casa</label>
      <input id="tiempo-fuera" type="text" placeholder="Ej. 2 horas">
    </div>

    <button id="guardar-agenda">Guardar agenda</button>

  </div>

</main>

<script type="module">
  import { requireAuth } from "./assets/js/auth.js";
  import { loadMenu } from "./assets/js/menu.js";
  import { saveAgenda, loadAgenda } from "./assets/js/agenda-terapeuta.js";

  await requireAuth();
  await loadMenu();
  loadAgenda();

  document
    .querySelector("#guardar-agenda")
    .addEventListener("click", saveAgenda);
</script>

</body>
</html>
