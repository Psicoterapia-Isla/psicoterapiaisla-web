<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Agenda profesional</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="assets/css/app.css">
  <link rel="stylesheet" href="assets/css/agenda-terapeuta.css">
</head>

<body class="app-body">

<header class="app-menu"></header>

<main class="app-container">

  <!-- NAVEGACIÓN DE DÍAS -->
  <div class="day-nav">
    <button id="prev-day">◀️</button>
    <span id="current-day"></span>
    <button id="next-day">▶️</button>
  </div>

  <h1 class="page-title">Agenda profesional</h1>

  <div class="card">

    <div class="grid-2">

      <!-- PLAN DEL DÍA -->
      <div class="block">
        <h2 class="section-title">Plan del día</h2>

        <div class="list">
          <div class="hour-line"><span>06:00</span><textarea data-hour="06:00"></textarea></div>
          <div class="hour-line"><span>07:00</span><textarea data-hour="07:00"></textarea></div>
          <div class="hour-line"><span>08:00</span><textarea data-hour="08:00"></textarea></div>
          <div class="hour-line"><span>09:00</span><textarea data-hour="09:00"></textarea></div>
          <div class="hour-line"><span>10:00</span><textarea data-hour="10:00"></textarea></div>
          <div class="hour-line"><span>11:00</span><textarea data-hour="11:00"></textarea></div>
          <div class="hour-line"><span>12:00</span><textarea data-hour="12:00"></textarea></div>
          <div class="hour-line"><span>13:00</span><textarea data-hour="13:00"></textarea></div>
          <div class="hour-line"><span>14:00</span><textarea data-hour="14:00"></textarea></div>
          <div class="hour-line"><span>15:00</span><textarea data-hour="15:00"></textarea></div>
          <div class="hour-line"><span>16:00</span><textarea data-hour="16:00"></textarea></div>
          <div class="hour-line"><span>17:00</span><textarea data-hour="17:00"></textarea></div>
          <div class="hour-line"><span>18:00</span><textarea data-hour="18:00"></textarea></div>
          <div class="hour-line"><span>19:00</span><textarea data-hour="19:00"></textarea></div>
          <div class="hour-line"><span>20:00</span><textarea data-hour="20:00"></textarea></div>
          <div class="hour-line"><span>21:00</span><textarea data-hour="21:00"></textarea></div>
          <div class="hour-line"><span>22:00</span><textarea data-hour="22:00"></textarea></div>
          <div class="hour-line"><span>23:00</span><textarea data-hour="23:00"></textarea></div>
        </div>
      </div>

      <!-- RETO DIARIO -->
      <div class="block">
        <h2 class="section-title">Reto diario</h2>
        <textarea id="reto-diario" placeholder="Reto terapéutico del día…"></textarea>
      </div>

    </div>

    <!-- NOTAS -->
    <div class="block" style="margin-top:2rem;">
      <h2 class="section-title">Notas del día</h2>

      <label>¿Con quién he hablado hoy?</label>
      <textarea id="notas-contactos"></textarea>

      <label style="margin-top:1rem;">Tiempo fuera de casa</label>
      <input id="tiempo-fuera" type="text" placeholder="Ej. 2 horas">
    </div>

    <button id="guardar-agenda">Guardar agenda</button>

  </div>

</main>

<script type="module">
  import { requireAuth } from "./assets/js/auth.js";
  import { loadMenu } from "./assets/js/menu.js";
  import {
    initAgenda,
    loadAgenda,
    saveAgenda
  } from "./assets/js/agenda-terapeuta.js";

  const user = await requireAuth();
  await loadMenu();

  initAgenda(user);
  await loadAgenda();

  document
    .getElementById("guardar-agenda")
    .addEventListener("click", saveAgenda);
</script>

</body>
</html>
